module.exports=function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n){t.exports=flarum.core.compat["components/Switch"]},function(t,n){t.exports=flarum.core.compat.Component},function(t,n){t.exports=flarum.core.compat["components/Select"]},function(t,n){t.exports=flarum.core.compat["components/SettingsModal"]},function(t,n,e){"use strict";e.r(n);var r={};function o(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}e.r(r),e.d(r,"BooleanItem",(function(){return a})),e.d(r,"StringItem",(function(){return l})),e.d(r,"NumberItem",(function(){return f})),e.d(r,"SettingItem",(function(){return p})),e.d(r,"SelectItem",(function(){return y})),e.d(r,"types",(function(){return g}));var i=e(0),s=e.n(i),u=e(1),p=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.init=function(){this.key=this.props.key,this.cast=this.props.cast||function(t){return t}},e.setting=function(){return app.modal.component.setting(this.key)},e.getValue=function(){return this.cast(this.setting()())},n}(e.n(u).a),a=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.view=function(){return s.a.component({state:!!Number(this.getValue()),children:this.props.label||this.props.children,onchange:this.setting()})},n}(p);function c(){return(c=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var l=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.view=function(){var t=c({},this.props),n=this.props.label||this.props.children;return t.className="FormControl "+(t.className||""),t.bidi=this.setting(),t.simple?m("input",t):m("div.Form-group",[m("label",n),m("input",t)])},n}(p),f=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.init=function(){l.prototype.init.call(this),this.cast=function(t){return Number(t)},this.props.type="number"},n}(l),h=e(2),d=e.n(h),y=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.view=function(){return d.a.component({options:this.props.options,value:this.getValue()||this.props.default,onchange:this.setting()})},n}(p),g={boolean:a,string:l,integer:f,number:f},v=e(3),b=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.init=function(){this.props.items=Array.from(this.props.items||[]),this.settings={},this.setting=this.setting.bind(this),this.props.onsaved&&(this.onsaved=this.props.onsaved.bind(this))},e.className=function(){return[this.props.className,this.props.size&&"Modal--"+this.props.size].filter(Boolean).join(" ")},e.title=function(){return this.props.title},e.form=function(){return this.props.form||[].concat(this.props.items).map((function(t){return!t||"div"===t.tag||t.attrs&&t.attrs.className&&t.attrs.className.contains("Form-group")?t:m("div.Form-group",t)}))},n.createItemsFromValidationRules=function(t,n,e){var r=[];for(var o in t){var i=n+o.toLowerCase(),s=t[o].split("|"),u=s.find((function(t){return g[t]}))||"string",p=u&&g[u]||l,a=s.includes("required"),c=e&&(app.translator.trans[""+e+o.toLowerCase()+"-label"]||o)||o,f=app.translator.translations[""+e+o.toLowerCase()+"-description"];r.push(m.prop("div.Form-group"+(a?".required":""),["boolean"!==u&&m("label",c),p.component({type:u,key:i,required:a,children:c,simple:!0}),f&&m("span",f)]))}return r},n}(e.n(v).a),x=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return[].concat(e).map((function(n){return n.replace(/\[([^\[\]]*)\]/g,".$1.").split(".").filter((function(t){return""!==t})).reduce((function(t,n){return t&&t[n]}),t)}))},S={SettingsModal:b,items:r},w={createSettingsModal:function(t){var n=t.id,e=t.settings,r=t.title,o=t.cast||function(t){return t};return new b(function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return c.apply(void 0,[{},t].concat(e.reverse(),[t]))}(t,{title:r||n&&x(app.data.extensions[n],"extra[flarum-extension].title")[0]||n,items:[e.map((function(n){var e=o(app.data.settings[n]),r=g[typeof e];return r?r.component({key:n,children:t.getLabel&&t.getLabel(n),cast:o}):m("p",null,n)}))]}))}};e.d(n,"settings",(function(){return S})),e.d(n,"util",(function(){return w}))}]);
//# sourceMappingURL=admin.js.map